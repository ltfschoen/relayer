<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Webb Relayer Crate üï∏Ô∏è"><title>webb_relayer - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-c4dbdcde0fbd8430.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="webb_relayer" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (8a73f50d8 2023-03-11)" data-search-js="search-ab3e9174d42dd6c2.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../static.files/storage-9184409068f70b79.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f5a2577c5297a973.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../webb_relayer/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../webb_relayer/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate webb_relayer</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.5.0-dev</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#enums">Enums</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‚ÄòS‚Äô to search, ‚Äò?‚Äô for more options‚Ä¶" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">webb_relayer</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/webb_relayer/lib.rs.html#15-92">source</a> ¬∑ <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="webb-relayer-crate-"><a href="#webb-relayer-crate-">Webb Relayer Crate üï∏Ô∏è</a></h2>
<p>A crate used to relaying updates and transactions for the Webb Anchor protocol.</p>
<h3 id="overview"><a href="#overview">Overview</a></h3>
<p>In the Webb Protocol, the relayer is a multi-faceted oracle, data relayer, and protocol
governance participant. Relayers fulfill the role of an oracle where the external data sources that
they listen to are the state of the anchors for a bridge. Relayers, as their name entails, relay
information for a connected set of Anchors on a bridge. This information is then used to update
the state of each Anchor and allow applications to reference, both privately and potentially not,
properties of data stored across the other connected Anchors.</p>
<p>The relayer system is composed of three main components. Each of these components should be thought of as entirely
separate because they could be handled by different entities entirely.</p>
<ol>
<li>Private transaction relaying (of user bridge transactions like Tornado Cash‚Äôs relayer)</li>
<li>Data querying (for zero-knowledge proof generation)</li>
<li>Data proposing and signature relaying (of DKG proposals)</li>
</ol>
<h5 id="private-transaction-relaying"><a href="#private-transaction-relaying">Private Transaction Relaying</a></h5>
<p>The relayer allows for submitting proofs for privacy-preserving transactions against the VAnchor protocols.
The users generate zero-knowledge proof data, format a proper payload, and submit
it to a compatible relayer for submission.</p>
<h5 id="data-querying"><a href="#data-querying">Data Querying</a></h5>
<p>The relayer also supplements users who need to generate witness data for their zero-knowledge proofs.
The relayers cache the leaves of the trees of VAnchor that they are supporting.
This allows users to query for the leaf data faster than querying from a chain directly.</p>
<h5 id="data-proposing-and-signature-relaying"><a href="#data-proposing-and-signature-relaying">Data Proposing and Signature Relaying</a></h5>
<p>The relayer is tasked with relaying signed data payloads from the DKG‚Äôs activities and plays an important
role as it pertains to the Anchor Protocol. The relayer is responsible for submitting the unsigned and
signed anchor update proposals to and from the DKG before and after signing occurs.</p>
<p>This role can be divided into two areas:</p>
<ol>
<li>Proposing</li>
<li>Relaying</li>
</ol>
<p>The relayer is the main agent in the system who proposes anchor updates to the DKG for signing. That is,
the relayer acts as an oracle over the merkle trees of the Anchors and VAnchors. When new insertions into
the merkle trees occur, the relayer crafts an update proposal that is eventually proposed to the DKG for signing.</p>
<p>The relayer is also responsible for relaying signed proposals. When anchor updates are signed, relayers are
tasked with submitting these signed payloads to the smart contract SignatureBridges that verify and handle
valid signed proposals. For all other signed proposals, the relayer is tasked with relaying these payloads
to the SignatureBridge instances and/or Governable instances.</p>
<p><strong>The responsibility for a relayer to the DKG (governance system) can be summarized as follows:</strong></p>
<p>The relayers act as proposers of proposals intended to be signed by the distributed key generation
protocol (DKG).</p>
<ol>
<li>The relayers are listening to and proposing updates.</li>
<li>The DKG is signing these updates using a threshold-signature scheme.</li>
</ol>
<p>We require a threshold of relayers (<em>really proposers</em>) to agree on the update in order to move the update
into a queue for the DKG to sign from.</p>
<h2 id="features"><a href="#features">Features</a></h2>
<p>There are several feature flags that control how much is available as part of the crate, both
<code>evm-runtime</code>, <code>substrate-runtime</code> are enabled by default.</p>
<ul>
<li><code>evm-runtime</code>: Enables the EVM runtime. By default, this is enabled.</li>
<li><code>substrate-runtime</code>: Enables the substrate runtime. By default, this is enabled.</li>
<li><code>integration-tests</code>: Enables integration tests. By default, this is disabled.</li>
</ul>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="service/index.html" title="mod webb_relayer::service">service</a></div><div class="desc docblock-short">A module for starting long-running tasks for event watching.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum webb_relayer::Error">Error</a></div><div class="desc docblock-short">An enum of all possible errors that could be encountered during the execution of the Webb
Relayer.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.Result.html" title="type webb_relayer::Result">Result</a></div><div class="desc docblock-short">A type alias for the result for webb relayer, that uses the <code>Error</code> enum.</div></li></ul></section></div></main></body></html>